/******************************************************************************/
/*                 Generated by IBExpert 24/03/2021 22:08:42                  */
/******************************************************************************/

/******************************************************************************/
/*        Following SET SQL DIALECT is just for the Database Comparer         */
/******************************************************************************/
SET SQL DIALECT 3;



/******************************************************************************/
/*                                   Tables                                   */
/******************************************************************************/


CREATE GENERATOR PRODUTO_ID_GEN;

CREATE TABLE PRODUTOS (
    NOME        VARCHAR(100) NOT NULL,
    VALOR       FLOAT NOT NULL,
    CONTROLADO  VARCHAR(1) NOT NULL,
    ID_PRODUTO  INTEGER NOT NULL
);




/******************************************************************************/
/*                                Primary Keys                                */
/******************************************************************************/

ALTER TABLE PRODUTOS ADD PRIMARY KEY (ID_PRODUTO);


/******************************************************************************/
/*                                  Triggers                                  */
/******************************************************************************/


SET TERM ^ ;



/******************************************************************************/
/*                            Triggers for tables                             */
/******************************************************************************/



/* Trigger: PRODUTOS_BI0 */
CREATE OR ALTER TRIGGER PRODUTOS_BI0 FOR PRODUTOS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   if ( (new.id_produto is null) or (new.id_produto = 0) )
  then new.id_produto = gen_id(PRODUTO_ID_GEN, 1);
end
^


SET TERM ; ^



/******************************************************************************/
/*                                 Privileges                                 */
/******************************************************************************/
